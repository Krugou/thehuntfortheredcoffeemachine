# This file was auto-generated by the Firebase CLI
# https://github.com/firebase/firebase-tools

name: Deploy to Firebase Hosting on merge
'on':
 push:
  branches:
   - main
 workflow_dispatch:

permissions:
 contents: read
 id-token: write
jobs:
 build_and_deploy:
  runs-on: ubuntu-latest
  steps:
   - name: Checkout
     uses: actions/checkout@v4
   - name: install dependencies
     run: npm install
     working-directory: ./thegame
   - name: Building the app
     run: VITE_BUILD_DATE=$(date) npm run build
     working-directory: ./thegame
   - uses: FirebaseExtended/action-hosting-deploy@v0
     with:
      repoToken: '${{ secrets.GITHUB_TOKEN }}'
      firebaseServiceAccount: >-
       ${{ secrets.FIREBASE_SERVICE_ACCOUNT_THEHUNTFORTHEREDCOFFEEMACHINE
       }}
      channelId: live
      projectId: thehuntfortheredcoffeemachine
